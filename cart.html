<!doctype html>
<html lang='en' class=''>
<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:300,400,500,600,700&display=swap" rel="stylesheet">
  <meta charset='utf-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <title>Urban Threads - Cart</title>
  <script src='https://cdn.tailwindcss.com'></script>
</head>
<body style="font-family: 'Inter', sans-serif;" class='bg-gray-50 text-gray-900'>
  <!-- Header -->
  <header class='bg-white/90 backdrop-blur-md border-b border-gray-200 fixed w-full z-40 top-0 left-0'>
    <div class='max-w-7xl mx-auto px-4 py-4 flex items-center justify-between'>
      <div class='flex items-center gap-2'>
        <span class='w-9 h-9 inline-flex items-center justify-center rounded-full bg-black text-white'>
          <svg width='20' height='20' viewBox='0 0 24 24' fill='currentColor' aria-label='Urban Threads Logo'>
            <path d='M7 3h10a1 1 0 0 1 1 1v3h-2V5H8v14h6v2H7a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z' opacity='.9'/>
            <path d='M5 9h14v2H5zM9 13h6v2H9zM9 17h6v2H9z'/>
          </svg>
        </span>
        <span class='font-bold text-xl tracking-tight'>Urban Threads</span>
      </div>
      <nav class='hidden md:flex space-x-6'>
        <a href='index.html' class='text-gray-700 hover:text-black'>Home</a>
        <a href='shop.html' class='text-gray-700 hover:text-black'>Shop</a>
        <a href='about.html' class='text-gray-700 hover:text-black'>About</a>
        <a href='contact.html' class='text-gray-700 hover:text-black'>Contact</a>
      </nav>
      <div class='flex items-center space-x-3'>
        <a href='cart.html' aria-label='Open cart' class='hidden md:inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gray-900 text-white'>
          Cart
          <span id='cart-count-header' class='bg-white text-gray-900 px-2 py-0.5 rounded-full text-sm'>0</span>
        </a>
      </div>
    </div>
  </header>
  <main class='pt-28'>
    <section class='max-w-7xl mx-auto px-4'>
      <h1 class='text-3xl font-bold mb-6'>Your Shopping Cart</h1>
      <div id='cart-container' class='space-y-4'>
        <!-- Cart items will be injected here -->
      </div>
      <div class='flex justify-end mt-6'>
        <a href='checkout.html' class='px-6 py-3 rounded-md bg-blue-600 text-white hover:bg-blue-700'>Proceed to Checkout</a>
      </div>
    </section>
  </main>
  <footer class='bg-gray-800 text-gray-200 mt-8'>
    <div class='max-w-7xl mx-auto px-4 py-8'>
      <p class='text-sm'>© 2025 Urban Threads - Hyderabad, India</p>
    </div>
  </footer>

  <script>
    // Load cart from localStorage and render
    let cart = JSON.parse(localStorage.getItem('cart') || '[]');
    const container = document.getElementById('cart-container');

    function renderCart() {
      container.innerHTML = '';
      if (cart.length === 0) {
        container.innerHTML = '<p class="text-gray-600">Your cart is empty. Add items from the Shop page.</p>';
        updateHeaderCount();
        return;
      }
      let total = 0;
      cart.forEach(item => {
        const itemTotal = item.price * item.quantity;
        total += itemTotal;
        const div = document.createElement('div');
        div.className = 'flex items-center justify-between p-4 border border-gray-200 rounded-lg';
        div.innerHTML = `
          <div class='flex items-center gap-4'>
            <img src='${item.image}' alt='${item.name}' class='w-20 h-20 object-cover rounded'>
            <div>
              <div class='font-semibold'>${item.name}</div>
              <div class='text-sm text-gray-600'>₹${item.price.toLocaleString()}
              </div>
            </div>
          </div>
          <div class='flex items-center gap-3'>
            <button class='px-2 py-1 rounded bg-gray-200' onclick='decreaseQty(${item.id})'>-</button>
            <span>${item.quantity}</span>
            <button class='px-2 py-1 rounded bg-gray-200' onclick='increaseQty(${item.id})'>+</button>
            <div class='text-right w-24'>₹${itemTotal.toLocaleString()}</div>
            <button onclick='removeItem(${item.id})' class='text-red-500'>Remove</button>
          </div>`;
        container.appendChild(div);
      });
      // Total row
      const totalDiv = document.createElement('div');
      totalDiv.className = 'flex justify-between items-center p-4 border-t border-gray-200 mt-2';
      totalDiv.innerHTML = `<span class='font-semibold'>Total</span><span class='text-xl font-bold'>₹${total.toLocaleString()}</span>`;
      container.appendChild(totalDiv);
      updateHeaderCount();
    }

    function increaseQty(id) {
      const item = cart.find(i => i.id === id);
      if (item) item.quantity += 1;
      persistAndRender();
    }
    function decreaseQty(id) {
      const item = cart.find(i => i.id === id);
      if (item && item.quantity > 1) item.quantity -= 1; else if (item) cart = cart.filter(i => i.id !== id);
      persistAndRender();
    }
    function removeItem(id) {
      cart = cart.filter(i => i.id !== id);
      persistAndRender();
    }
    function persistAndRender() {
      localStorage.setItem('cart', JSON.stringify(cart));
      renderCart();
    }
    function updateHeaderCount() {
      const count = cart.reduce((s, i) => s + i.quantity, 0);
      const header = document.getElementById('cart-count-header');
      if (header) header.textContent = count;
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      renderCart();
    });
  </script>
</body>
</html>